.alerts {
  height: 100%;
  overflow-y: auto;
  padding: var(--spacing-xl);

  @include respond-to("sm") {
    padding: var(--spacing-2xl);
  }
  &__header {
    @include flex-between;
    align-items: flex-start;
    margin-bottom: var(--spacing-xl);
    gap: var(--spacing-lg);

    @include respond-to("md") {
      align-items: center;
    }
  }

  &__tabs {
    display: flex;
    gap: var(--spacing-xs);
    margin-bottom: var(--spacing-xl);
    border-bottom: 1px solid var(--gray-200);

    [data-theme="dark"] & {
      border-color: var(--gray-700);
    }
  }

  &__content {
    display: flex;
    flex-direction: column;
    gap: var(--spacing-xl);
  }
}

.header-content {
  h1 {
    font-size: var(--text-4xl);
    font-weight: 700;
    color: var(--text-primary);
    margin-bottom: var(--spacing-xs);
  }

  p {
    color: var(--text-secondary);
    font-size: var(--text-lg);
    margin: 0;
  }
}

.header-stats {
  display: flex;
  gap: var(--spacing-sm);
  flex-wrap: wrap;
}

.stat-badge {
  display: flex;
  align-items: center;
  gap: var(--spacing-xs);
  padding: var(--spacing-sm) var(--spacing-md);
  border-radius: var(--radius-lg);
  font-size: var(--text-sm);
  font-weight: 500;

  &--primary {
    background-color: rgba(37, 99, 235, 0.1);
    color: var(--primary-blue);

    [data-theme="dark"] & {
      background-color: rgba(59, 130, 246, 0.1);
    }
  }

  &--critical {
    background-color: rgba(239, 68, 68, 0.1);
    color: var(--error);
  }
}

.tab-btn {
  @include button-base;
  background: none;
  color: var(--text-secondary);
  padding: var(--spacing-md) var(--spacing-lg);
  border-bottom: 2px solid transparent;
  border-radius: 0;
  gap: var(--spacing-xs);

  &:hover {
    color: var(--text-primary);
    background-color: var(--gray-50);

    [data-theme="dark"] & {
      background-color: var(--gray-800);
    }
  }

  &--active {
    color: var(--primary-blue);
    border-bottom-color: var(--primary-blue);
    background-color: rgba(37, 99, 235, 0.05);

    [data-theme="dark"] & {
      background-color: rgba(59, 130, 246, 0.05);
    }
  }
}

.quick-actions {
  display: flex;
  gap: var(--spacing-sm);
  flex-wrap: wrap;
}

.alerts-list {
  display: flex;
  flex-direction: column;
  gap: var(--spacing-md);
}

.alert-item {
  @include card;
  display: flex;
  align-items: flex-start;
  gap: var(--spacing-md);
  padding: var(--spacing-lg);
  position: relative;
  transition: all var(--transition-fast);

  &:hover {
    box-shadow: var(--shadow-md);
  }

  // Type-based left borders
  &--budget {
    border-left: 4px solid var(--error);

    [data-theme="dark"] & {
      border-left-color: #ef4444; // Brighter red for dark mode
    }

    &.alert-item--unread {
      background-color: rgba(239, 68, 68, 0.02);

      [data-theme="dark"] & {
        background-color: rgba(239, 68, 68, 0.05);
      }
    }
  }

  &--anomaly {
    border-left: 4px solid var(--warning);

    [data-theme="dark"] & {
      border-left-color: #f59e0b; // Brighter orange for dark mode
    }

    &.alert-item--unread {
      background-color: rgba(245, 158, 11, 0.02);

      [data-theme="dark"] & {
        background-color: rgba(245, 158, 11, 0.05);
      }
    }
  }

  &--goal {
    border-left: 4px solid var(--success);

    [data-theme="dark"] & {
      border-left-color: #22c55e; // Brighter green for dark mode
    }

    &.alert-item--unread {
      background-color: rgba(34, 197, 94, 0.02);

      [data-theme="dark"] & {
        background-color: rgba(34, 197, 94, 0.05);
      }
    }
  }

  &--bill {
    border-left: 4px solid var(--primary-blue);

    [data-theme="dark"] & {
      border-left-color: #3b82f6; // Brighter blue for dark mode
    }

    &.alert-item--unread {
      background-color: rgba(37, 99, 235, 0.02);

      [data-theme="dark"] & {
        background-color: rgba(59, 130, 246, 0.05);
      }
    }
  }

  &--income {
    border-left: 4px solid var(--accent-green);

    [data-theme="dark"] & {
      border-left-color: #10b981; // Brighter green for dark mode
    }

    &.alert-item--unread {
      background-color: rgba(34, 197, 94, 0.02);

      [data-theme="dark"] & {
        background-color: rgba(34, 197, 94, 0.05);
      }
    }
  }

  &__indicator {
    display: none; // Remove the old indicator since we're using border-left
  }

  &__icon {
    width: 40px;
    height: 40px;
    border-radius: var(--radius-lg);
    @include flex-center;
    background-color: var(--gray-100);
    color: var(--text-secondary);
    flex-shrink: 0;

    [data-theme="dark"] & {
      background-color: var(--gray-800);
    }
  }

  // Type-specific icon colors
  &--budget &__icon {
    background-color: rgba(239, 68, 68, 0.1);
    color: var(--error);
  }

  &--anomaly &__icon {
    background-color: rgba(245, 158, 11, 0.1);
    color: var(--warning);
  }

  &--goal &__icon {
    background-color: rgba(34, 197, 94, 0.1);
    color: var(--success);
  }

  &--bill &__icon {
    background-color: rgba(37, 99, 235, 0.1);
    color: var(--primary-blue);
  }

  &--income &__icon {
    background-color: rgba(34, 197, 94, 0.1);
    color: var(--accent-green);
  }

  &__content {
    flex: 1;
    min-width: 0;
  }

  &__header {
    margin-bottom: var(--spacing-sm);

    h4 {
      font-size: var(--text-base);
      font-weight: 600;
      color: var(--text-primary);
      margin-bottom: var(--spacing-xs);
    }
  }

  &__meta {
    display: flex;
    gap: var(--spacing-sm);
    flex-wrap: wrap;
  }

  &__message {
    color: var(--text-secondary);
    font-size: var(--text-sm);
    line-height: var(--leading-relaxed);
    margin-bottom: var(--spacing-sm);
  }

  &__amount {
    display: flex;
    align-items: center;
    gap: var(--spacing-xs);
    font-weight: 600;
    color: var(--text-primary);
    font-size: var(--text-sm);
    margin-bottom: var(--spacing-sm);
  }

  &__actions {
    display: flex;
    gap: var(--spacing-sm);
    flex-wrap: wrap;
  }

  &__controls {
    display: flex;
    flex-direction: column;
    gap: var(--spacing-xs);
    flex-shrink: 0;
  }
}

.alert-category {
  background-color: var(--primary-blue);
  color: white;
  padding: 2px var(--spacing-xs);
  border-radius: var(--radius-sm);
  font-size: var(--text-xs);
  font-weight: 500;
}

.alert-time {
  font-size: var(--text-xs);
  color: var(--text-tertiary);
}

.control-btn {
  @include button-base;
  background: none;
  color: var(--text-tertiary);
  padding: var(--spacing-xs);
  border-radius: var(--radius-md);

  &:hover {
    color: var(--text-primary);
    background-color: var(--gray-100);

    [data-theme="dark"] & {
      background-color: var(--gray-800);
    }
  }

  &--danger {
    color: var(--error);

    &:hover {
      background-color: rgba(239, 68, 68, 0.1);
    }
  }
}

.empty-state {
  text-align: center;
  padding: var(--spacing-2xl);
  color: var(--text-tertiary);

  svg {
    margin-bottom: var(--spacing-lg);
    opacity: 0.5;
  }

  h3 {
    font-size: var(--text-xl);
    color: var(--text-secondary);
    margin-bottom: var(--spacing-sm);
  }

  p {
    margin: 0;
  }
}

.rules-header {
  @include flex-between;
  align-items: flex-start;
  gap: var(--spacing-lg);

  h3 {
    font-size: var(--text-2xl);
    font-weight: 600;
    color: var(--text-primary);
    margin-bottom: var(--spacing-xs);
  }

  p {
    color: var(--text-secondary);
    margin: 0;
  }
}

.rules-list {
  display: flex;
  flex-direction: column;
  gap: var(--spacing-md);
}

.rule-item {
  @include card;
  @include flex-between;
  padding: var(--spacing-lg);
  transition: all var(--transition-fast);

  &:hover {
    box-shadow: var(--shadow-md);
  }

  &__content {
    flex: 1;
    min-width: 0;
  }

  &__header {
    @include flex-between;
    margin-bottom: var(--spacing-sm);

    h4 {
      font-size: var(--text-base);
      font-weight: 600;
      color: var(--text-primary);
      margin: 0;
    }
  }

  &__details {
    display: flex;
    gap: var(--spacing-sm);
    flex-wrap: wrap;
    align-items: center;
  }

  &__actions {
    display: flex;
    gap: var(--spacing-xs);
    margin-left: var(--spacing-md);
  }
}

.rule-type {
  background-color: var(--gray-100);
  color: var(--text-secondary);
  padding: 2px var(--spacing-xs);
  border-radius: var(--radius-sm);
  font-size: var(--text-xs);
  font-weight: 500;
  text-transform: capitalize;

  [data-theme="dark"] & {
    background-color: var(--gray-800);
  }
}

.rule-condition {
  font-size: var(--text-sm);
  color: var(--text-primary);
  font-weight: 500;
}

.rule-category {
  font-size: var(--text-sm);
  color: var(--text-secondary);
}

.toggle-switch {
  position: relative;
  display: inline-block;
  width: 44px;
  height: 24px;

  input {
    opacity: 0;
    width: 0;
    height: 0;
  }
}

.toggle-slider {
  position: absolute;
  cursor: pointer;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background-color: var(--gray-300);
  transition: var(--transition-fast);
  border-radius: 24px;

  &:before {
    position: absolute;
    content: "";
    height: 18px;
    width: 18px;
    left: 3px;
    bottom: 3px;
    background-color: white;
    transition: var(--transition-fast);
    border-radius: 50%;
  }

  input:checked + & {
    background-color: var(--primary-blue);
  }

  input:checked + &:before {
    transform: translateX(20px);
  }

  [data-theme="dark"] & {
    background-color: var(--gray-600);

    &:before {
      background-color: var(--gray-200);
    }
  }
}

.new-rule-form {
  @include card;
  margin-top: var(--spacing-lg);
}

.form-header {
  @include flex-between;
  margin-bottom: var(--spacing-lg);
  padding-bottom: var(--spacing-md);
  border-bottom: 1px solid var(--gray-200);

  [data-theme="dark"] & {
    border-color: var(--gray-700);
  }

  h4 {
    font-size: var(--text-lg);
    font-weight: 600;
    color: var(--text-primary);
    margin: 0;
  }
}

.form-content {
  display: flex;
  flex-direction: column;
  gap: var(--spacing-lg);
}

.form-row {
  display: grid;
  grid-template-columns: 1fr;
  gap: var(--spacing-lg);

  @include respond-to("md") {
    grid-template-columns: 1fr 1fr;
  }
}

.form-actions {
  display: flex;
  gap: var(--spacing-sm);
  justify-content: flex-end;
  padding-top: var(--spacing-lg);
  border-top: 1px solid var(--gray-200);

  [data-theme="dark"] & {
    border-color: var(--gray-700);
  }
}
